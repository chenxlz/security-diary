![image](assets/v2-2bb831c8a9b71d8d258b36fe5150e05d_r-20240519102525-ytojnds.png)

# [Webpack](https://www.webpackjs.com/)

## åŸºæœ¬è®¾ç½®

### webpack.config.js

â€‹`webpack.config.js`â€‹æ˜¯`Webpack`â€‹çš„é…ç½®æ–‡ä»¶ï¼Œåœ¨é¡¹ç›®æ ¹ç›®å½•é‡Œã€‚**vueä¸­æ˜¯vue.config.js**

```js
const path = require('path')// å¯¼å…¥node.jsçš„pathæ¨¡å—
const HtmlWebpackPlugin = require('html-webpack-plugin')//å¯¼å…¥æ’ä»¶
//webpacké…ç½®
module.exports = {
  devtool: 'source-map',// æ˜¯å¦å¼€å¯source mapï¼Œç”Ÿæˆç‹¬ç«‹çš„mapæ–‡ä»¶ï¼Œå¼€å‘ä½¿ç”¨ï¼Œä¸Šçº¿åˆ é™¤
  mode: 'development',// æ‰“åŒ…æ¨¡å¼ development å¼€å‘ / production ç”Ÿäº§
  entry: path.resolve(__dirname, 'src', 'index.js'),//è®¾ç½®æ‰“åŒ…å…¥å£æ–‡ä»¶ï¼Œpathæ¨¡å—ç”¨åœ¨è¿™é‡Œ
  // å¼€å‘æœåŠ¡å™¨
  devServer: {//npm run serve å®æ—¶æ‰“åŒ…ï¼Œæ‰“åŒ…æ–‡ä»¶åœ¨å†…å­˜ä¸­ï¼Œéœ€è¦å®‰è£…æ’ä»¶
    port: 9000, // å®æ—¶æ‰“åŒ…æ‰€ç”¨çš„ç«¯å£å·
    open: true, // åˆæ¬¡æ‰“åŒ…å®Œæˆåï¼Œè‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨
    static: path.join(__dirname, './dist'),// æœåŠ¡å™¨çš„æ ¹ç›®å½•
    hot: false,//æ˜¯å¦å¼€å¯çƒ­æ›¿æ¢
  },
  // æ‰“åŒ…åˆ°å“ªé‡Œ
  output: {
    path: path.resolve(__dirname, 'dist'),// ä½¿ç”¨ç»å¯¹è·¯å¾„
    filename: 'bundle.js',// æ‰“åŒ…å‡ºæ¥çš„æ–‡ä»¶å
    clean: true,// æ¯æ¬¡æ‰“åŒ…æ—¶æ¸…é™¤ä¸Šä¸€æ¬¡çš„distç›®å½•
    assetModuleFilename: 'images/[hash][ext][query]',
  },
  // æ¨¡å—é…ç½®ï¼Œé»˜è®¤åªèƒ½æ‰“åŒ…jsï¼Œå®‰è£…æ’ä»¶ï¼Œå¯ä»¥æ‰“åŒ…cssï¼Œlessç­‰å…¶ä»–æ ¼å¼æ–‡ä»¶
  module: {
    // è§£æè§„åˆ™
    rules: [
      {
        test: /\.css$/i, // .cssç»“å°¾çš„æ–‡ä»¶
        use: ['style-loader', 'css-loader'], // é€šè¿‡ è¿™2ä¸ª loaderè¿›è¡Œè§£æ
      },
      {
        test: /\.less$/i, // .lessç»“å°¾çš„æ–‡ä»¶
        use: [
          // ä½¿ç”¨å¦‚ä¸‹çš„loaderè¿›è¡Œè§£æ
          'style-loader',
          'css-loader',
          'less-loader',
        ],
      },
      {
        test: /\.(png|svg|jpg|jpeg|gif)$/i, // å›¾ç‰‡èµ„æº
        type: 'asset/resource', // ç”Ÿæˆä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶ï¼Œå¹¶è®¾ç½®url
      },
    ],
  },
  // æ’ä»¶é…ç½®ï¼Œwbepacké»˜è®¤åªæ‰“åŒ…jsï¼ŒHtmlWebpackPluginå¯ä»¥ç”Ÿæˆindex.htmlæ–‡ä»¶å¹¶æŠŠjsæ”¾è¿›å»
  plugins: [
    new HtmlWebpackPlugin({
      inject: 'body',// jsæ’å…¥çš„ä½ç½®
      filename: 'index.html',// æ‰“åŒ…ä¹‹åçš„æ–‡ä»¶å
      template: path.resolve(__dirname, './public/index.html'),// ä½¿ç”¨å“ªä¸ªæ–‡ä»¶ä½œä¸ºæ¨¡æ¿
    }),
  ],
}
```

### package.json

[package.json](https://juejin.cn/post/6870426598605062152)ï¼šå¯ä»¥è®¾ç½®æ‰“åŒ…æ‰€ä½¿ç”¨çš„æ’ä»¶å’Œæ’ä»¶è®¾ç½®(`scripts`â€‹ä¸­è®¾ç½®)ï¼Œä»¥åŠé€‰æ‹©æ‰“åŒ…ç¯å¢ƒ

```js
{
  "name": "test-project", // åç§°ï¼Œé€šå¸¸æ˜¯githubä»“åº“åç§°
  "author": "xxx", // ä½œè€…çš„ä¿¡æ¯
  "contributors": ["xxx", "xxxx"], // è´¡çŒ®è€…ä¿¡æ¯æ•°ç»„
  "bugs": "https://github.com/nodejscn/node-api-cn/issues", // bugä¿¡æ¯ï¼Œé€šå¸¸æ˜¯githubçš„issueé¡µé¢
  "homepage": "http://nodejs.cn", // å‘å¸ƒé¡¹ç›®æ—¶ï¼Œé¡¹ç›®çš„ä¸»é¡µ
  "version": "1.0.0", // å½“å‰ç‰ˆæœ¬, éµå¾ªsemverè¯­ä¹‰ç‰ˆæœ¬æ§åˆ¶è§„èŒƒï¼Œå…·ä½“å«ä¹‰å°†åœ¨åé¢è¯¦ç»†è§£é‡Š
  "license": "MIT", // è®¸å¯è¯ä¿¡æ¯
  "keywords": ["xxx", "xxxx"], // å…³é”®å­—æ•°ç»„
  "description": "A Vue.js project", // æè¿°ä¿¡æ¯
  "repository": "git://github.com/xxxx.git", // ä»“åº“åœ°å€
  "main": "src/main.js", // å½“å¼•ç”¨è¿™ä¸ªåŒ…æ—¶ï¼Œåº”ç”¨ç¨‹åºä¼šåœ¨è¯¥ä½ç½®æœç´¢æ¨¡å—çš„å¯¼å‡º
  "private": true,  // é˜²æ­¢åŒ…æ„å¤–çš„å‘å¸ƒåˆ°npmä¸Šï¼Œå¦‚æœæ˜¯trueï¼Œnpmå°†æ‹’ç»å‘å¸ƒ
  "scripts": {
    "dev": "webpack --config webpack.config.js",//é…ç½®å¼€å‘æ¨¡å¼æ‰“åŒ…
    "watch": "webpack watch --config webpack.config.js",//é…ç½®watchæ¨¡å¼
    "build": "webpack  --config webpack.config.js --mode production",//é…ç½®ç”Ÿäº§æ¨¡å¼æ‰“åŒ…
    "serve": "webpack serve --config webpack.config.js"//é…ç½®è™šæ‹ŸæœåŠ¡å™¨

  }, // å¯è¿è¡Œçš„nodeè„šæœ¬ï¼Œé€šå¸¸å‘½ä»¤æ˜¯npm run serve
  "dependencies": {
    "core-js": "^3.6.5",
    "vue": "^3.0.0-0",
    "vue-router": "^4.0.0-0",
    "vuex": "^4.0.0-0"
  }, // ç”Ÿäº§ç¯å¢ƒæ‰€ä¾èµ–çš„å®‰è£…åŒ…
  "devDependencies": {
    "@vue/cli-plugin-babel": "~4.5.0",
    ...
  } // å¼€å‘ç¯å¢ƒæ‰€ä¾èµ–çš„å®‰è£…åŒ…
  "engines": {
    "node": ">= 6.0.0",
    "npm": ">= 3.0.0"
  }, // è¦è¿è¡Œçš„ Node.js æˆ–å…¶ä»–å‘½ä»¤çš„ç‰ˆæœ¬ï¼Œä½†ä¼¼ä¹æ²¡åµç”¨ï¼Œå¯å‚è€ƒhttps://github.com/nodejs/node/issues/29249
  "browserslist": ["> 1%", "last 2 versions", "not ie <= 8"]  //æ”¯æŒçš„æµè§ˆå™¨åŠå…¶ç‰ˆæœ¬å·ï¼Œpolyfillæ—¶ä¼šç”¨åˆ°
}

```

## è®¾ç½®è¯´æ˜

### æ¨¡å¼è®¾ç½®

* æ¦‚å¿µ

  ```js
  å¼€å‘ç¯å¢ƒdevelopment:ä¸ä¼šå¯¹æ‰“åŒ…ç”Ÿæˆçš„æ–‡ä»¶è¿›è¡Œä»£ç å‹ç¼©å’Œæ€§èƒ½ä¼˜åŒ–ï¼Œæ‰“åŒ…é€Ÿåº¦å¿«
  ç”Ÿäº§ç¯å¢ƒproduction:é»˜è®¤è®¾ç½®ï¼Œä¼šå¯¹æ‰“åŒ…ç”Ÿæˆçš„æ–‡ä»¶è¿›è¡Œä»£ç å‹ç¼©å’Œæ€§èƒ½ä¼˜åŒ–ï¼Œæ‰“åŒ…é€Ÿåº¦å¾ˆæ…¢
  ```
* è®¾ç½®å¼€å‘æˆ–ç”Ÿäº§æ¨¡å¼ï¼šè®¾ç½®`/webpack.config.js`â€‹ï¼Œå¢åŠ è®¾ç½®`mode`â€‹

  ```js
  // å¯¼å…¥pathæ¨¡å—
  const path = require('path')

  module.exports = {
    mode: 'development',// æ‰“åŒ…æ¨¡å¼ development å¼€å‘ / production ç”Ÿäº§

    // æ‰“åŒ…çš„å…¥å£æ–‡ä»¶
    entry: path.resolve(__dirname, 'src', 'index.js'),
    // æ‰“åŒ…åˆ°å“ªé‡Œ
    output: {
      // ä½¿ç”¨ç»å¯¹è·¯å¾„
      path: path.resolve(__dirname, 'dist'),
      // æ‰“åŒ…å‡ºæ¥çš„æ–‡ä»¶å
      filename: 'bundle.js',
    },
  }
  ```
* è®¾ç½®æ‰“åŒ…å‘½ä»¤ï¼š`package.json`â€‹ ä¸­å¢åŠ æ‰“åŒ…å‘½ä»¤

  ```js
  "scripts": {
    "dev": "webpack --config webpack.config.js",//é…ç½®å¼€å‘æ¨¡å¼æ‰“åŒ…
    "watch": "webpack watch --config webpack.config.js",//é…ç½®watchæ¨¡å¼
    "build": "webpack  --config webpack.config.js --mode production",//é…ç½®ç”Ÿäº§æ¨¡å¼æ‰“åŒ…
    "serve": "webpack serve --config webpack.config.js"//é…ç½®è™šæ‹ŸæœåŠ¡å™¨

  },
  ```
* æ‰“åŒ…å‘½ä»¤ï¼šçœ‹ä½ æ€ä¹ˆè®¾ç½®å¾—

  ```js
  npm run dev//å¼€å‘ç¯å¢ƒæ‰“åŒ…
  npm run build//ç”Ÿäº§ç¯å¢ƒæ‰“åŒ…
  ```

### æ¸…ç†è®¾ç½®

æ¸…ç†distç›®å½•ï¼š`output.clean`â€‹é»˜è®¤ä¸å¼€å¯ï¼Œé‚£ä¹ˆä¸Šä¸€æ¬¡æ‰“åŒ…ç”Ÿæˆçš„distæ–‡ä»¶ä¸ä¼šåˆ é™¤ï¼Œè¿™æ¬¡æ‰“åŒ…çš„æ–‡ä»¶è¿˜æ˜¯åœ¨ä¸Šä¸€æ¬¡çš„distä¸­ï¼Œå¯¼è‡´å¯èƒ½åŸå…ˆçš„æ–‡ä»¶å­˜åœ¨å¯¼è‡´åé¢çœ‹ä»£ç æ–‡ä»¶é€ æˆæ··ä¹±ã€‚

å¼€å¯åä¼šæŠŠæ–‡ä»¶å‡ºå£æ–‡ä»¶åˆ é™¤ååœ¨ç»§ç»­æ‰“åŒ…ï¼Œé‡æ–°æ”¹å‡ºå£åï¼ŒåŸæ–‡ä»¶ä¸åœ¨æ–°å‡ºå£ï¼Œæ˜¯ä¸ä¼šåˆ é™¤çš„ã€‚

* â€‹`/webpack.config.js`â€‹ä¸­è®¾ç½®**å¢åŠ æ¸…ç†** `dist`â€‹ ç›®å½•çš„é…ç½®

  ```js
  module.exports = {
    ...
    output: {
      // ä½¿ç”¨ç»å¯¹è·¯å¾„
      path: path.resolve(__dirname, 'dist'),
      // æ‰“åŒ…å‡ºæ¥çš„æ–‡ä»¶å
      filename: 'bundle.js',
      // æ¯æ¬¡æ‰“åŒ…æ—¶æ¸…é™¤distç›®å½•
      clean: true,
    },
    ...
  }
  ```

### çƒ­æ›¿æ¢è®¾ç½®

â€‹`HMR`â€‹ï¼šä¿®æ”¹äº†ä»£ç å¹¶ä¿å­˜æ—¶ï¼Œ`HMR`â€‹ ä¼šåœ¨åº”ç”¨ç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­æ›¿æ¢ã€æ·»åŠ æˆ–åˆ é™¤æ¨¡å—ï¼Œè€Œ**æ— éœ€é‡æ–°åŠ è½½æ•´ä¸ªé¡µé¢ï¼ˆå…¥å£ä»£ç ä¿®æ”¹è¿˜æ˜¯ä¼šåˆ·æ–°ï¼‰** ã€‚

å¼€å¯äº† `dev-server`â€‹ ä¹‹åï¼Œä¼š**é»˜è®¤å¼€å¯**â€‹`HMR(hot module replacement)`â€‹ã€‚

* â€‹`HMR`â€‹ ä¸»è¦é€šè¿‡ä»¥ä¸‹å‡ ç§æ–¹å¼ï¼Œæ¥æ˜¾è‘—åŠ å¿«å¼€å‘é€Ÿåº¦ï¼š

  * **ä¿ç•™åœ¨å®Œå…¨é‡æ–°åŠ è½½é¡µé¢æ—¶ä¸¢å¤±çš„åº”ç”¨ç¨‹åºçŠ¶æ€ï¼›**
  * **åªæ›´æ–°å˜æ›´å†…å®¹ï¼Œä»¥èŠ‚çœå®è´µçš„å¼€å‘æ—¶é—´ï¼›**
  * **è°ƒæ•´æ ·å¼æ›´åŠ å¿«é€Ÿ - å‡ ä¹ç›¸å½“äºåœ¨æµè§ˆå™¨è°ƒè¯•å™¨ä¸­æ›´æ”¹æ ·å¼ã€‚**

åœ¨`webpack.config.js`â€‹ä¸­è¿›è¡Œè®¾ç½®

```js
module.exports = {
 Â // å¼€å‘æœåŠ¡å™¨
 Â devServer: {
 Â  Â port: 9000, // å®æ—¶æ‰“åŒ…æ‰€ç”¨çš„ç«¯å£å·
 Â  Â open: true, // åˆæ¬¡æ‰“åŒ…å®Œæˆåï¼Œè‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨
 Â  Â // æœåŠ¡å™¨çš„æ ¹ç›®å½•
 Â  Â static: path.join(__dirname, './dist'),
 Â  Â hot: true,// æ¨¡å—çƒ­æ›¿æ¢ true / false å¼€å¯ / å…³é—­
  },
}
```

### æ˜ å°„è®¾ç½®

å°±æ˜¯ä¸€ä¸ªä¿¡æ¯æ–‡ä»¶ï¼Œé‡Œé¢å‚¨å­˜ç€ä½ç½®ä¿¡æ¯ã€‚å­˜å‚¨ç€å‹ç¼©æ··æ·†åçš„ä»£ç ï¼Œæ‰€å¯¹åº”çš„**è½¬æ¢å‰**çš„ä½ç½®ã€‚

è®¾ç½®å¼€å¯ï¼Œä¼šåœ¨é¡¹ç›®æ‰“åŒ…åä¼šç”Ÿæˆ`.map`â€‹æ–‡ä»¶ï¼Œå‡ºé”™çš„æ—¶å€™ï¼Œé™¤é”™å·¥å…·å°†ç›´æ¥æ˜¾ç¤ºåŸå§‹ä»£ç ï¼Œè€Œä¸æ˜¯è½¬æ¢åçš„ä»£ç ï¼Œèƒ½å¤Ÿæå¤§çš„æ–¹ä¾¿åæœŸçš„è°ƒè¯•ã€‚

æ³¨æ„:å¼€å‘é˜¶æ®µè¾…åŠ©è°ƒé”™ï¼Œ**ä¸Šçº¿ä¸€å®šè¦ç§»é™¤ï¼Œé¿å…æºç æ³„éœ²**ã€‚

åœ¨`webpack.config.js`â€‹ä¸­è¿›è¡Œè®¾ç½®

```js
//å¼€å‘ä¸­éœ€è¦æ’é”™ï¼Œéœ€è¦å‡†ç¡®çš„å®šä½é”™è¯¯è¡Œå·
module.exports = {
 Â // source-map ä»…é™åœ¨å¼€å‘æ¨¡å¼ä¸­ä½¿ç”¨
 Â devtool: 'source-map',//ï¼ˆç”Ÿäº§ç¯å¢ƒï¼Œæˆ‘ä»¬ä¸å¸Œæœ›åˆ«äººçœ‹åˆ°æˆ‘ä»¬çš„æºç ï¼Œæ³¨é‡Šè¯¥é…ç½®å³å¯ï¼‰
}
```

### watchè®¾ç½®

å¼€å¯ `watch`â€‹ æ¨¡å¼å¯åŠ¨è‡ªåŠ¨åŒ–æ‰“åŒ…ï¼šæ£€æµ‹æ‰“åŒ…å…¥å£ï¼Œä»¥åŠæ‰“åŒ…å…¥å£å¼•ç”¨çš„æ–‡ä»¶æ˜¯å¦å‘ç”Ÿå˜åŠ¨ï¼Œå¦‚æœå‘ç”Ÿå˜åŠ¨ï¼Œå°±é‡æ–°æ‰“åŒ…ã€‚

â€‹`watch`â€‹ æ˜¯å†…ç½®çš„ï¼Œä¸éœ€è¦ä¸‹è½½ï¼Œæ–‡ä»¶å‘ç”Ÿå˜åŠ¨åï¼Œæ–‡ä»¶è‡ªåŠ¨æ‰“åŒ…ï¼Œä½†æ˜¯ç½‘é¡µéœ€è¦è‡ªå·±åˆ·æ–°ã€‚

è°ƒæ•´ `package.json`â€‹ ä¸­çš„ `scripts`â€‹ å¼€å¯`watch`â€‹ æ¨¡å¼ï¼Œç„¶åå¯åŠ¨å‘½ä»¤ï¼š`npm run watch`â€‹

```js
"scripts": {
 Â "dev": "webpack --config webpack.config.js",
 Â "watch": "webpack watch --config webpack.config.js",
}
```

## ç›¸å…³æ’ä»¶

### html-webpack-plugin

â€‹`Webpack`â€‹é»˜è®¤åªæ‰“åŒ…`js`â€‹ï¼Œè¿™ä¸ªæ’ä»¶å¯ä»¥æ‰“åŒ…æ—¶ä¼šè‡ªåŠ¨ç”Ÿæˆ`index.html`â€‹é¡µé¢åˆ°`dist`â€‹æ–‡ä»¶å¤¹ä¸­ï¼Œè‡ªåŠ¨æŠŠæ‰“åŒ…ç”Ÿæˆçš„`js`â€‹æ–‡ä»¶æ’å…¥åˆ°é¡µé¢ä¸­ã€‚

* ä¸‹è½½æ’ä»¶

  ```js
  npm i--save-dev html-webpack-plugin //ä¸‹è½½æ’ä»¶
  ```
* è®¾ç½®è®¾ç½®æ¨¡å—é¡µé¢

  ```js
  <!DOCTYPE html>
  <html lang="en">
    <head>
      <meta charset="UTF-8" />
      <meta http-equiv="X-UA-Compatible" content="IE=edge" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <title>æµ‹è¯•ç”¨æ¨¡æ¿</title>
    </head>
    <body>
      <div class="box"></div>
    </body>
  </html>

  ```
* **è°ƒæ•´** `/webpack.config.js`â€‹ï¼Œ**å¢åŠ æ’ä»¶å®ä¾‹åŒ–çš„é…ç½®**

  ```js
  module.exports = {
    ...
    plugins: [
      new HtmlWebpackPlugin({//å®ä¾‹åŒ–
        inject: 'body',// jsæ’å…¥çš„ä½ç½®
        filename: 'index.html',// æ‰“åŒ…ä¹‹åçš„æ–‡ä»¶å
        template: path.resolve(__dirname, './public/index.html'),//è®¾ç½®é¡µé¢æ ·æœ¬åœ°å€
      }),
    ],
  }
  ```

### loader

â€‹`loader`â€‹ æ˜¯æ–‡ä»¶åŠ è½½å™¨ï¼Œèƒ½å¤ŸåŠ è½½èµ„æºæ–‡ä»¶ï¼Œå¹¶å¯¹è¿™äº›æ–‡ä»¶è¿›è¡Œç‰¹å®šçš„å¤„ç†ï¼Œç„¶åæ‰“åŒ…åœ¨æŒ‡å®šæ–‡ä»¶ä¸­ï¼Œ**ç®€å•æ¥è¯´å°±æ˜¯å°†** `webpack`â€‹ ä¼ å…¥çš„å­—ç¬¦ä¸²åšå‡ºç‰¹å®šçš„å¤„ç†ä¿®æ”¹ã€‚

â€‹`webpack`â€‹ é»˜è®¤åªèƒ½è§£æ `js`â€‹ æ¨¡å—ï¼Œå¦‚æœæ˜¯å…¶ä»–çš„æ–‡ä»¶éœ€è¦å®‰è£…å¯¹åº”çš„ `loader`â€‹ã€‚

â€‹![image](assets/image-20220731205739-uc0rxf9.png)â€‹

1. ä¸‹è½½æ‰€éœ€çš„loader,ç¬¬ä¸‰æ–¹æ¨¡å—

    ```js
    npm i --save-dev style-loader css-loader//css
    npm i less less-loader --save-dev//less
    ```
2. è°ƒæ•´ `webpack.config.js`â€‹ çš„é…ç½®

    ```js
    module.exports = {
     Â ...
     Â // æ¨¡å—é…ç½®
     Â module: {
     Â  Â // è§£æè§„åˆ™
     Â  Â rules: [
     Â  Â   {
     Â  Â  Â  Â test: /\.css$/i, // .cssç»“å°¾çš„æ–‡ä»¶
     Â  Â  Â  Â use: ['style-loader', 'css-loader'], // é€šè¿‡ è¿™2ä¸ª loaderè¿›è¡Œè§£æ
     Â  Â   },
     Â  Â   {
     Â  Â  Â  Â test: /\.less$/i, // .lessç»“å°¾çš„æ–‡ä»¶
     Â  Â  Â  Â use: [
     Â  Â  Â  Â  Â // ä½¿ç”¨å¦‚ä¸‹çš„loaderè¿›è¡Œè§£æ
     Â  Â  Â  Â  Â 'style-loader',
     Â  Â  Â  Â  Â 'css-loader',
     Â  Â  Â  Â  Â 'less-loader',
     Â  Â  Â   ],
     Â  Â   },
     Â   ],
      },
    }
    ```
3. åœ¨æ‰“åŒ…çš„`index.js`â€‹ä¸­å¯¼å…¥æ‰€è¦ä½¿ç”¨çš„`css`â€‹ã€`less`â€‹æ–‡ä»¶

    ```js
    // å¯¼å…¥css 
    // import './assets/base.css'
    // å¯¼å…¥less
    import './assets/less/index.less'
    ```
4. è¿è¡Œæ‰“åŒ…

    ```bash
    npm run dev
    ```

### webpack-dev-server

â€‹`webpack-dev-server`â€‹ çš„æœ¬è´¨æ˜¯å¼€å¯äº†ä¸€ä¸ªæµ‹è¯•ç”¨æœåŠ¡å™¨ï¼Œ`dev-server`â€‹ï¼Œå¼€å¯ä¸€ä¸ªæœåŠ¡å™¨ï¼Œå¹¶è‡ªåŠ¨ç›‘æµ‹æ–‡ä»¶å˜æ›´ï¼Œåˆ·æ–°é¡µé¢ã€‚

å‡¡æ˜¯ä¿®æ”¹äº†`webpack.config.js `â€‹é…ç½®æ–‡ä»¶ï¼Œæˆ–ä¿®æ”¹äº†` package.json `â€‹é…ç½®æ–‡ä»¶ï¼Œå¿…é¡»é‡å¯å®æ—¶æ‰“åŒ…çš„æœåŠ¡å™¨ï¼Œå¦åˆ™æœ€æ–°çš„é…ç½®æ–‡ä»¶æ— æ³•ç”Ÿæ•ˆã€‚

1. ä¸‹è½½`webpack-dev-server`â€‹ï¼š

    ```bash
    npm i --save-dev webpack-dev-server
    ```
2. ä¿®æ”¹ `/webpack.config.js`â€‹ï¼Œ**å¢åŠ ** `devServer`â€‹ çš„é…ç½®

    ```js
    module.exports = {
      ...
     Â // å¼€å‘æœåŠ¡å™¨
     Â devServer: {
     Â  Â port: 9000, // å®æ—¶æ‰“åŒ…æ‰€ç”¨çš„ç«¯å£å·
     Â  Â open: true, // åˆæ¬¡æ‰“åŒ…å®Œæˆåï¼Œè‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨
     Â  Â // æœåŠ¡å™¨çš„æ ¹ç›®å½•
     Â  Â static: path.join(__dirname, './dist'),//å³æ–‡ä»¶æ‰“åŒ…åæ”¾çš„ä½ç½®
      },
      ....
    }
    ```
3. è®¾ç½® `package.json`â€‹ï¼Œå¢åŠ ä¸€æ¡å‘½ä»¤

    ```js
    "scripts": {
     Â "dev": "webpack --config webpack.config.js",//è®¾ç½®æ‰“åŒ…æ¨¡å¼
     Â "watch": "webpack watch --config webpack.config.js",//å¼€å¯watchæ¨¡å¼
     Â "serve": "webpack serve --config webpack.config.js"//å¼€å¯è™šæ‹ŸæœåŠ¡å™¨
    },
    ```
4. æ‰§è¡Œå‘½ä»¤ï¼Œè¿è¡Œé¡¹ç›®

    ```bash
    npm run serve
    ```
5. æ³¨æ„ç‚¹

    1. é…ç½®äº† webpack-dev-server ä¹‹åï¼Œæ‰“åŒ…ç”Ÿæˆçš„æ–‡ä»¶å­˜æ”¾åˆ°äº†å†…å­˜ä¸­

        1. ä¸å†æ ¹æ® output èŠ‚ç‚¹æŒ‡å®šçš„è·¯å¾„ï¼Œå­˜æ”¾åˆ°å®é™…çš„ç‰©ç†ç£ç›˜ä¸Š
        2. æé«˜äº†å®æ—¶æ‰“åŒ…è¾“å‡ºçš„æ€§èƒ½ï¼Œå› ä¸ºå†…å­˜æ¯”ç‰©ç†ç£ç›˜é€Ÿåº¦å¿«å¾ˆå¤š
        3. **çœ‹ä¸åˆ°** `dist`â€‹ ç›®å½•
    2. â€‹`http://localhost:9000/`â€‹

        1. è®¿é—®çš„æ˜¯ `devServer`â€‹ é…ç½®ä¸­ `static`â€‹ çš„æ ¹ç›®å½•
        2. â€‹`/index.html`â€‹ å¯ä»¥çœç•¥ä¸å†™

â€

# åŒ…ç®¡ç†å·¥å…·

â€‹`node.js`â€‹å®‰è£…å®Œæˆä¹‹åï¼Œè‡ªå¸¦æœ‰`npm`â€‹äº†ï¼Œå¯ä»¥ä½¿ç”¨`npm`â€‹ä¸‹è½½ä½¿ç”¨ä¾èµ–åŒ…ã€‚

## ç›¸å…³æ¦‚å¿µ

### npmè„šæœ¬

â€‹`npm `â€‹å…è®¸åœ¨`package.json`â€‹æ–‡ä»¶é‡Œé¢ï¼Œä½¿ç”¨`scripts`â€‹å­—æ®µå®šä¹‰è„šæœ¬å‘½ä»¤ã€‚

â€‹`package.json`â€‹ é‡Œé¢çš„`scripts`â€‹ å­—æ®µæ˜¯ä¸€ä¸ªå¯¹è±¡ã€‚å®ƒçš„æ¯ä¸€ä¸ªå±æ€§ï¼Œå¯¹åº”ä¸€æ®µè„šæœ¬ã€‚å®šä¹‰åœ¨`package.json`â€‹é‡Œé¢çš„è„šæœ¬ï¼Œå°±ç§°ä¸º `npm`â€‹ è„šæœ¬ã€‚

* åŸºæœ¬ä½¿ç”¨ï¼š`npm run`â€‹ è„šæœ¬åç§°

  ```js
  1.å¦‚æœæ˜¯å¹¶è¡Œæ‰§è¡Œï¼ˆå³åŒæ—¶çš„å¹³è¡Œæ‰§è¡Œï¼‰ï¼Œå¯ä»¥ä½¿ç”¨&ç¬¦å·ã€‚ 
  npm run script1.js & npm run script2.js
  2.å¦‚æœæ˜¯ç»§å‘æ‰§è¡Œï¼ˆå³åªæœ‰å‰ä¸€ä¸ªä»»åŠ¡æˆåŠŸï¼Œæ‰æ‰§è¡Œä¸‹ä¸€ä¸ªä»»åŠ¡ï¼‰ï¼Œå¯ä»¥ä½¿ç”¨&&ç¬¦å·ã€‚
  npm run script1.js && npm run script2.js
  ```
* ç®€å†™

  ```js
  npm start       å³ npm run start
  npm stop        å³ npm run stop
  npm test        å³ npm run test
  npm restart     å³ npm run stop && npm run restart && npm run start
  ```

### åŠ è½½æœºåˆ¶

1. â€‹`require('ç¬¬ä¸‰æ–¹åŒ…å')`â€‹ä¼˜å…ˆåœ¨åŠ è½½è¯¥åŒ…çš„æ¨¡å—çš„åŒçº§ç›®å½•`node_modules`â€‹ä¸­æŸ¥æ‰¾ç¬¬ä¸‰æ–¹åŒ…ã€‚
2. æ‰¾åˆ°è¯¥ç¬¬ä¸‰æ–¹åŒ…ä¸­çš„`package.json`â€‹æ–‡ä»¶ï¼Œå¹¶ä¸”æ‰¾åˆ°é‡Œé¢çš„`main`â€‹å±æ€§å¯¹åº”çš„å…¥å£æ¨¡å—ï¼Œè¯¥å…¥å£æ¨¡å—å³ä¸ºåŠ è½½çš„ç¬¬ä¸‰æ–¹æ¨¡å—ã€‚
3. å¦‚æœåœ¨è¦åŠ è½½çš„ç¬¬ä¸‰æ–¹åŒ…ä¸­æ²¡æœ‰æ‰¾åˆ°`package.json`â€‹æ–‡ä»¶æˆ–è€…æ˜¯`package.json`â€‹æ–‡ä»¶ä¸­æ²¡æœ‰`main`â€‹å±æ€§ï¼Œåˆ™é»˜è®¤åŠ è½½ç¬¬ä¸‰æ–¹åŒ…ä¸­çš„`index.js`â€‹æ–‡ä»¶ã€‚
4. å¦‚æœåœ¨åŠ è½½ç¬¬ä¸‰æ–¹æ¨¡å—çš„æ–‡ä»¶çš„åŒçº§ç›®å½•æ²¡æœ‰æ‰¾åˆ°`node_modules`â€‹æ–‡ä»¶å¤¹ï¼Œæˆ–è€…ä»¥ä¸Šæ‰€æœ‰æƒ…å†µéƒ½æ²¡æœ‰æ‰¾åˆ°ï¼Œåˆ™ä¼šå‘ä¸Šä¸€çº§çˆ¶çº§ç›®å½•ä¸‹æŸ¥æ‰¾`node_modules`â€‹æ–‡ä»¶å¤¹ï¼ŒæŸ¥æ‰¾è§„åˆ™å¦‚ä¸Šä¸€è‡´ã€‚
5. å¦‚æœä¸€ç›´æ‰¾åˆ°è¯¥æ¨¡å—çš„ç£ç›˜æ ¹è·¯å¾„éƒ½æ²¡æœ‰æ‰¾åˆ°ï¼Œåˆ™ä¼šæŠ¥é”™ï¼š`can not find module xxx`â€‹ã€‚

æ¯”å¦‚è¯´ï¼šrequiere(`fs`â€‹);

é‚£åŠ è½½çš„è‚¯å®šæ˜¯ç³»ç»Ÿçš„åŒ…ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬å°½é‡ä¸è¦åˆ›å»ºä¸€äº›å’Œç°æœ‰çš„åŒ…é‡åçš„åŒ…ã€‚

### å…³äºpackage.json

```js
"dependencies": {    "md5": "^2.1.0"  }  ^ è¡¨ç¤º å¦‚æœ ç›´æ¥npm install å°†ä¼š å®‰md5@2.*.*  	æœ€æ–°ç‰ˆæœ¬

"dependencies": {    "md5": "~2.1.0"  }  ~ è¡¨ç¤º å¦‚æœ ç›´æ¥npm install å°†ä¼š å®‰è£…md5 2.1.*  æœ€æ–°ç‰ˆæœ¬

"dependencies": {    "md5": "*"  }  * è¡¨ç¤º å¦‚æœ ç›´æ¥npm install å°†ä¼š å®‰è£… md5  æœ€æ–°ç‰ˆæœ¬
```

### ç¯å¢ƒä¾èµ–

è®¾ç½®é€‰é¡¹æ¥åŒºåˆ†**ä¾èµ–çš„ç±»å‹**

```js
1.ç”Ÿäº§ä¾èµ–ï¼šS ç­‰æ•ˆäº --saveï¼Œ-S æ˜¯é»˜è®¤é€‰é¡¹ **åŒ…ä¿¡æ¯ä¿å­˜åœ¨ package.json ä¸­ dependencieså±æ€§
npm i -S uniq 
npm i --save uniq

2.å¼€å‘ä¾èµ–ï¼š-D ç­‰æ•ˆäº --save-dev** åŒ…ä¿¡æ¯ä¿å­˜åœ¨ package.json ä¸­devDependencieså±æ€§
npm i -D less 
npm i --save-dev less

3.npm i -g nodemon //å…¨å±€å®‰è£…ï¼Œå®‰è£…åœ¨cç›˜ï¼Œåç»­å¯ä»¥ä½¿ç”¨å…¨å±€å‘½ä»¤
```

### å‘½ååˆ«å

é…ç½® package.json ä¸­çš„ `scripts`â€‹ å±æ€§ï¼šè®¾ç½®å¥½åå¯ä»¥ä½¿ç”¨` npm run  xxx`â€‹ æ‰§è¡Œå‘½ä»¤

â€‹`npm start`â€‹ ï¼šæ¯”è¾ƒç‰¹åˆ«ï¼Œä½¿ç”¨æ—¶å¯ä»¥çœç•¥ `run`â€‹

â€‹`npm run`â€‹ æœ‰è‡ªåŠ¨å‘ä¸Šçº§ç›®å½•æŸ¥æ‰¾çš„ç‰¹æ€§ï¼Œè·Ÿ `require`â€‹ å‡½æ•°ä¹Ÿä¸€æ ·

```js
{
  "scripts": {
    "server": "node server.js",
    "start": "node index.js",
  },
}
```

### `.gitignore`â€‹

è®¾ç½®æ— éœ€æäº¤çš„æ–‡ä»¶ç›®å½•

```js
# dependencies
node_modules //node_modulesæ–‡ä»¶å¤¹ä¸æäº¤ä»£ç 

# testing
/coverage
```

### åˆ›å»ºåŒ…

* åˆ›å»ºå‘åŒ…

  ```js
  1. åˆ›å»ºæ–‡ä»¶å¤¹ï¼Œå¹¶åˆ›å»ºæ–‡ä»¶ index.jsï¼Œ åœ¨æ–‡ä»¶ä¸­å£°æ˜å‡½æ•°ï¼Œä½¿ç”¨ module.exports æš´éœ²
  2. npm åˆå§‹åŒ–å·¥å…·åŒ…ï¼Œpackage.json å¡«å†™åŒ…çš„ä¿¡æ¯ (åŒ…çš„åå­—æ˜¯å”¯ä¸€çš„)
  3. æ³¨å†Œè´¦å· https://www.npmjs.com/signup
  4. æ¿€æ´»è´¦å· ï¼ˆ <span style="color:red">ä¸€å®šè¦æ¿€æ´»è´¦å·</span> ï¼‰
  5. ä¿®æ”¹ä¸ºå®˜æ–¹çš„å®˜æ–¹é•œåƒ (å‘½ä»¤è¡Œä¸­è¿è¡Œ `nrm use npm` )
  6. å‘½ä»¤è¡Œä¸‹ npm login å¡«å†™ç›¸å…³ç”¨æˆ·ä¿¡æ¯
  7. å‘½ä»¤è¡Œä¸‹ npm publish æäº¤åŒ… ğŸ‘Œ
  ```
* æ›´æ–°

  ```js
  1. æ›´æ–°åŒ…ä¸­çš„ä»£ç 
  2. æµ‹è¯•ä»£ç æ˜¯å¦å¯ç”¨
  3. ä¿®æ”¹ package.json ä¸­çš„ç‰ˆæœ¬å·
  4. å‘å¸ƒæ›´æ–°
  npm publish
  ```
* åˆ é™¤åŒ…

  ```js
  npm unpublish --force
  åˆ é™¤åŒ…éœ€è¦æ»¡è¶³ä¸€å®šçš„æ¡ä»¶ï¼Œ https://docs.npmjs.com/policies/unpublish
  - ä½ æ˜¯åŒ…çš„ä½œè€…
  - å‘å¸ƒå°äº 24 å°æ—¶
  - å¤§äº 24 å°æ—¶åï¼Œæ²¡æœ‰å…¶ä»–åŒ…ä¾èµ–ï¼Œå¹¶ä¸”æ¯å‘¨å°äº 300 ä¸‹è½½é‡ï¼Œå¹¶ä¸”åªæœ‰ä¸€ä¸ªç»´æŠ¤è€…
  ```

## npm

1. åˆå§‹åŒ–å‘½ä»¤ï¼šåˆå§‹åŒ–ä¹‹åï¼Œä¼šåœ¨é¡¹ç›®ç›®å½•ä¸­ç”Ÿæˆ `package.json`â€‹ çš„æ–‡ä»¶ã€‚

    ```js
    npm init -y
    npm init
    ```
2. åˆ‡æ¢é•œåƒåœ°å€ï¼šä¸‹è½½é€Ÿåº¦å¯ä»¥å¿«ä¸€ç‚¹

    ```js
    ä¸‹é¢çš„å‘½ä»¤åªéœ€è¦æ‰§è¡Œä¸€æ¬¡å³å¯ï¼ˆä¸ç®¡ä»¥åé‡å¯vscodeè¿˜æ˜¯é‡å¯ç”µè„‘ï¼Œéƒ½ä¸éœ€è¦æ‰§è¡Œç¬¬äºŒæ¬¡ï¼‰
    npm config set registry https://registry.npmmirror.com
    ```
3. å®‰è£…ç¬¬ä¸‰æ–¹åŒ…

    ```js
    npm install æ¨¡å—å //æ­£å¸¸çš„ä¸‹è½½å®‰è£…
    npm i æ¨¡å—å //ç®€å†™
    npm i æ¨¡å—å@ç‰ˆæœ¬å· //å¯ä»¥é€šè¿‡@ç‰ˆæœ¬å·,ä¸è®¾ç½®é»˜è®¤æ˜¯æœ€æ–°
    npm install xxx -g  //æŠŠæ¨¡å—å®‰è£…åœ¨å…¨å±€ç¯å¢ƒä¸­
    ```
4. å¸è½½ç¬¬ä¸‰æ–¹

    ```js
    npm uninstall æ¨¡å—å
    npm un æ¨¡å—å
    npm un æ¨¡å—å æ¨¡å—å æ¨¡å—å
    ```

## [cnpm](https://npmmirror.com/)

å®‰è£…`cnpm`â€‹æ›¿æ¢ `npm`â€‹ï¼ˆ`npm `â€‹ç”±äºæºæœåŠ¡å™¨åœ¨å›½å¤–ï¼Œä¸‹è½½åŒ…çš„é€Ÿåº¦è¾ƒæ…¢ï¼Œ`cnpm `â€‹ä¼šä½¿ç”¨å›½å†…é•œåƒï¼‰ï¼š

```js
npm install -g cnpm --registry=https://registry.npmmirror.com
# å®‰è£… vue è¿™ä¸ªåŒ…
cnpm install vue
```

## yarn

â€‹`npm`â€‹æ˜¯å®˜æ–¹çš„ç®¡ç†å·¥å…·ï¼Œ`yarn `â€‹æ˜¯ç”± `Facebook`â€‹ åœ¨ 2016 å¹´æ¨å‡ºçš„æ–°çš„ `Javascript`â€‹ åŒ…ç®¡ç†å·¥å…·

å’Œ`npm`â€‹ç›¸æ¯”æœ‰**ç¼“å­˜æœºåˆ¶**ï¼Œå¯ä»¥ç›´æ¥å–ç¼“å­˜æ²¡å¿…è¦é‡æ–°ä¸‹è½½ï¼Œé€Ÿåº¦æ¯”`npm`â€‹å¿«ä¸€äº›ã€‚

â€‹`npm`â€‹ çš„é”æ–‡ä»¶ä¸º `package-lock.json`â€‹

â€‹`yarn`â€‹çš„é”æ–‡ä»¶ä¸º `yarn.lock`â€‹

åŸºæœ¬å‘½ä»¤

```js
1.å®‰è£…yarn
npm i yarn -g    // å…¨å±€å®‰è£…ä½¿ç”¨yarn

2.åˆå§‹åŒ–
yarn init  //  yarn init -y

3.å®‰è£…æ’ä»¶
npm:   npm i æ’ä»¶å
yarn:  yarn add æ’ä»¶å
       yarn global add æ’ä»¶å//å…¨å±€å®‰è£…

4.å®‰è£…æ‰€æœ‰ä¾èµ–
npm:   npm i
yarn:  yarn

5.åˆ é™¤æ’ä»¶
npm:   npm uninstall  æ’ä»¶å
yarn:  yarn remove æ’ä»¶å
       yarn global remove æ’ä»¶å//å…¨å±€å¸è½½

6.è¿è¡Œé¡¹ç›®
npm:   npm run serve
yarn:  yarn serve

7.è®¾ç½®æ·˜å®é•œåƒ
npm:   npm config set registry http://registry.npm.taobao.org/
yarn:  yarn config set registry http://registry.npm.taobao.org/

8.npmæ¢æˆyarnï¼šåˆ æ‰node_module,package-lock.jsonç„¶åå®‰è£…ä½¿ç”¨yarn
```

## nrm

â€‹`NRM `â€‹çš„å…¨ç§°æ˜¯` npm registry manager `â€‹ï¼Œæ˜¯ä¸€ä¸ª `npm `â€‹çš„é•œåƒæºç®¡ç†å·¥å…·ï¼Œç”¨æ¥**åˆ‡æ¢å’Œç®¡ç†** `npm `â€‹åŒ…çš„é•œåƒæº

* åŸºæœ¬ä½¿ç”¨

  ```js
  npm i -g nrm //å…¨å±€å®‰è£…
  nrm use taobao  //ä¿®æ”¹é•œåƒ
  npm config list  //æ£€æŸ¥æ˜¯å¦é…ç½®æˆåŠŸï¼ˆé€‰åšï¼‰
  ```
* æŸ¥çœ‹æº

  ```js
  nrm ls

  npm -------- https://registry.npmjs.org/
  yarn ------- https://registry.yarnpkg.com/
  cnpm ------- http://r.cnpmjs.org/
  taobao ----- https://registry.npm.taobao.org/
  nj --------- https://registry.nodejitsu.com/
  npmMirror -- https://skimdb.npmjs.com/registry/
  edunpm ----- http://registry.enpmjs.org/
  qunhe ------ http://npm-registry.qunhequnhe.com/


  ```
* åˆ‡æ¢é•œåƒ

  ```js
  nrm use é•œåƒåˆ«å
  // åˆ‡æ¢è‡³ taobao çš„é•œåƒæº
  nrm use taobao
  // åˆ‡æ¢è‡³ cnpm çš„é•œåƒæº
  nrm use cnpm
  ```
* æ·»åŠ é•œåƒ

  ```js
  reigstry ä¸ºæºåï¼Œurl ä¸ºæºçš„è·¯å¾„
  nrm add registry http://npm-registry.qunhequnhe.com/
  ```
* åˆ é™¤é•œåƒ

  ```js
  // å…¶ä¸­ reigstry ä¸ºæºå
  nrm del <registry>
  ```
* æµ‹è¯•é•œåƒå“åº”æ—¶é—´

  ```js
  nrm test npm
  ```

## [nvm](https://github.com/coreybutler/nvm-windows/releases%20)

â€‹`nvm `â€‹å…¨ç§° `Node Version Manager`â€‹ é¡¾åæ€ä¹‰å®ƒæ˜¯ç”¨æ¥ç®¡ç† `node `â€‹ç‰ˆæœ¬çš„å·¥å…·ï¼Œæ–¹ä¾¿åˆ‡æ¢ä¸åŒç‰ˆæœ¬çš„`Node.js`â€‹

```js
nvm list available  //æ˜¾ç¤ºæ‰€æœ‰å¯ä»¥ä¸‹è½½çš„ Node.js ç‰ˆæœ¬
nvm list //æ˜¾ç¤ºå·²å®‰è£…çš„ç‰ˆæœ¬
nvm install 18.12.1  //å®‰è£… 18.12.1 ç‰ˆæœ¬çš„ Node.js
nvm install latest  //å®‰è£…æœ€æ–°ç‰ˆçš„ Node.js
nvm uninstall 18.12.1  //åˆ é™¤æŸä¸ªç‰ˆæœ¬çš„ Node.js
nvm use 18.12.1  //åˆ‡æ¢ 18.12.1 çš„ Node.js
```

## pnpm

* æ¦‚å¿µï¼š`pnpm`â€‹æ˜¯ `Node.js`â€‹ çš„æ›¿ä»£åŒ…ç®¡ç†å™¨ã€‚å®ƒæ˜¯ npm çš„ç›´æ¥æ›¿ä»£å“ï¼Œä½†é€Ÿåº¦æ›´å¿«ã€æ•ˆç‡æ›´é«˜ã€‚

  ```js
  ä¸ºä»€ä¹ˆæ•ˆç‡æ›´é«˜ï¼Ÿ
  å½“æ‚¨å®‰è£…è½¯ä»¶åŒ…æ—¶ï¼Œæˆ‘ä»¬ä¼šå°†å…¶ä¿å­˜åœ¨æ‚¨æœºå™¨ä¸Šçš„å…¨å±€å­˜å‚¨ä¸­ï¼Œç„¶åæˆ‘ä»¬ä¼šä»ä¸­åˆ›å»ºä¸€ä¸ªç¡¬é“¾æ¥ï¼Œè€Œä¸æ˜¯è¿›è¡Œå¤åˆ¶ã€‚
  å¯¹äºæ¨¡å—çš„æ¯ä¸ªç‰ˆæœ¬ï¼Œç£ç›˜ä¸Šåªä¿ç•™ä¸€ä¸ªå‰¯æœ¬ã€‚
  ä¾‹å¦‚ï¼Œå½“ä½¿ç”¨ npm æˆ– yarn æ—¶ï¼Œå¦‚æœæ‚¨æœ‰ 100 ä¸ªä½¿ç”¨ lodash çš„åŒ…ï¼Œåˆ™ç£ç›˜ä¸Šå°†æœ‰ 100 ä¸ª lodash å‰¯æœ¬ã€‚
  pnpm å¯è®©æ‚¨èŠ‚çœæ•° GB çš„ç£ç›˜ç©ºé—´ï¼
  ```
* â€‹`pnpm `â€‹æ‹¥æœ‰ `Yarn`â€‹ è¶…è¿‡ `npm`â€‹ çš„æ‰€æœ‰é™„åŠ åŠŸèƒ½ï¼š

  ```js
  å®‰å…¨: 
  ä¸ yarn ä¸€æ ·ï¼Œpnpm æœ‰ä¸€ä¸ªåŒ…å«æ‰€æœ‰å·²å®‰è£…åŒ…æ ¡éªŒå’Œçš„ç‰¹æ®Šæ–‡ä»¶ï¼Œç”¨äºåœ¨æ‰§è¡Œä»£ç ä¹‹å‰éªŒè¯æ¯ä¸ªå·²å®‰è£…åŒ…çš„å®Œæ•´æ€§ã€‚

  ç¦»çº¿æ¨¡å¼: 
  pnpm å°†æ‰€æœ‰ä¸‹è½½çš„åŒ… tarball ä¿å­˜åœ¨æœ¬åœ°æ³¨å†Œè¡¨é•œåƒä¸­ã€‚å½“åŒ…åœ¨æœ¬åœ°å¯ç”¨æ—¶ï¼Œå®ƒä»ä¸å‘å‡ºè¯·æ±‚ã€‚
  ä½¿ç”¨è¯¥--offlineå‚æ•°å¯ä»¥å®Œå…¨ç¦æ­¢ HTTP è¯·æ±‚ã€‚

  é€Ÿåº¦: 
  pnpm ä¸ä»…æ¯” npm å¿«ï¼Œè€Œä¸”æ¯” yarn å¿«ã€‚
  æ— è®ºæ˜¯å†·ç¼“å­˜è¿˜æ˜¯çƒ­ç¼“å­˜ï¼Œå®ƒéƒ½æ¯” yarn å¿«ã€‚
  yarn ä»ç¼“å­˜ä¸­å¤åˆ¶æ–‡ä»¶ï¼Œè€Œ pnpm åªæ˜¯ä»å…¨å±€å­˜å‚¨ä¸­é“¾æ¥å®ƒä»¬ã€‚
  ```
* åŸºæœ¬ä½¿ç”¨

  ```js
  //å…¨å±€å®‰è£…
  npm install pnpm -g
  //æŸ¥çœ‹æº
  pnpm config get registry 
  //åˆ‡æ¢æ·˜å®æº
  pnpm config set registry https://registry.npmmirror.com/

  //å¯ä»¥å’Œnpmä¸€æ ·ä½¿ç”¨æ–¹å¼
  pnpm init //ç›´æ¥åˆå§‹åŒ–
  pnpm install åŒ…  
  pnpm i åŒ…
  pnpm add åŒ…// -S  é»˜è®¤å†™å…¥dependencies
  pnpm add -D// -D devDependencies
  pnpm add -g// å…¨å±€å®‰è£…
  pnpm remove(uninstall) åŒ…//ç§»é™¤åŒ…
  pnpm remove åŒ… --global//ç§»é™¤å…¨å±€åŒ…
  pnpm up//æ›´æ–°æ‰€æœ‰ä¾èµ–é¡¹
  pnpm upgrade åŒ…//æ›´æ–°åŒ…
  pnpm upgrade åŒ… --global//æ›´æ–°å…¨å±€åŒ…
  pnpm up --latest //æœ€æ–°æ›´æ–°æ‰€æœ‰ä¾èµ–é¡¹ï¼Œå¿½ç•¥package.jsonä¸­æŒ‡å®šçš„èŒƒå›´
  ```

â€

â€

â€

# Git

### GitåŸºæœ¬æ¦‚å¿µ

[Git](https://git-scm.com/)æ˜¯ä¸€æ¬¾å…è´¹ã€å¼€æºçš„**åˆ†å¸ƒå¼**ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ ï¼Œç”¨äºæ•æ·é«˜æ•ˆåœ°å¤„ç†ä»»ä½•æˆ–å°æˆ–å¤§çš„é¡¹ç›®ã€‚

[ä¼ é€é—¨](https://juejin.cn/post/6844904191203213326#heading-0)

### GitåŸºæœ¬æ“ä½œ

* è®¾ç½®ç”¨æˆ·åï¼šå®‰è£…å¥½åç¬¬ä¸€æ­¥

  ```js
  git config  user.name  //æŸ¥çœ‹ç”¨æˆ·å
  git config  user.email  //æŸ¥çœ‹é‚®ç®±

  git config  user.name ç”¨æˆ·å  //è®¾ç½®ç”¨æˆ·å
  git config  user.email é‚®ç®±å  //è®¾ç½®é‚®ç®±

  git config  --global user.name ç”¨æˆ·å  //è®¾ç½®å…¨å±€ç”¨æˆ·å
  git config  --global user.email é‚®ç®±å  //è®¾ç½®å…¨å±€é‚®ç®±

  git config --list  //æŸ¥çœ‹é…ç½®ä¿¡æ¯

  git config --unset --global user.name //åˆ é™¤å…¨å±€é…ç½®
  git config --unset --global user.email  //åˆ é™¤å…¨å±€é…ç½®
  ```
* åˆå§‹åŒ–ä»“åº“ï¼šè¦ç®¡ç†å¾—æ–‡ä»¶å¤¹é‡Œé¢åˆå§‹åŒ–

  ```js
  git init  //åˆå§‹åŒ–ä»“åº“
  git init -y//å°±ä¸ç”¨ä¸€ç›´ç‚¹yesäº†
  ```
* æŸ¥çœ‹æ˜¯å¦ä¿å­˜

  ```js
  git status //ç”¨æ¥æŸ¥çœ‹æ–‡ä»¶çš„çŠ¶æ€,çº¢è‰²è¡¨ç¤ºå·¥ä½œåŒºä¸­çš„æ–‡ä»¶éœ€è¦æäº¤,ç»¿è‰²è¡¨ç¤ºæš‚å­˜åŒºä¸­çš„æ–‡ä»¶éœ€è¦æäº¤
  git status -s //ç®€åŒ–æ—¥å¿—è¾“å‡ºæ ¼å¼
  ```
* ä¿å­˜ä»“åº“ï¼šå…ˆaddåcommit

  ```js
  git add index.html  //å°†index.htmlæ·»åŠ åˆ°æš‚å­˜åŒº
  git add css  //å°†cssç›®å½•ä¸‹æ‰€æœ‰çš„æ–‡ä»¶æ·»åŠ åˆ°æš‚å­˜åŒº
  git add *.js  //å°†å½“å‰ç›®å½•ä¸‹æ‰€æœ‰çš„jsæ–‡ä»¶æ·»åŠ åˆ°æš‚å­˜åŒº

  //æ·»åŠ å½“å‰ç›®å½•ä¸‹æ‰€æœ‰çš„æ–‡ä»¶
  git add .
  git add -A
  git add --all


  git commit -m"æäº¤è¯´æ˜"  //å°†æ–‡ä»¶ä»æš‚å­˜åŒºæäº¤åˆ°ä»“åº“
  git commit -am "æœ¬æ¬¡æäº¤è¯´æ˜"  //addå’Œcommitçš„åˆå¹¶ï¼Œä¾¿æ·å†™æ³•
  git commit --amend -m"æäº¤è¯´æ˜"  //ä¿®æ”¹æœ€è¿‘çš„ä¸€æ¬¡æäº¤è¯´æ˜ï¼Œ å¦‚æœæäº¤è¯´æ˜ä¸å°å¿ƒè¾“é”™äº†ï¼Œå¯ä»¥ä½¿ç”¨è¿™ä¸ªå‘½ä»¤
  ```
* æŸ¥çœ‹ç‰ˆæœ¬å·

  ```js
  git log//æŸ¥çœ‹æäº¤çš„æ—¥å¿—
  git log --oneline  //åªèƒ½çœ‹åˆ°ç°åœ¨ç‰ˆæœ¬ä¹‹å‰çš„ä¿¡æ¯ï¼ˆè‹¥ä¹‹å‰å›é€€è¿‡ï¼Œé‚£å›é€€ç‰ˆæœ¬ä¹‹åçš„æ˜¯çœ‹ä¸åˆ°çš„ï¼‰
  git reflog --oneline  //å¯ä»¥çœ‹åˆ°æ‰€æœ‰ä¿å­˜çš„ç‰ˆæœ¬ä¿¡æ¯
  ```
* ç‰ˆæœ¬å›é€€

  ```js
  git reset --hard ç‰ˆæœ¬å·  //å°†ä»£ç å›é€€åˆ°æŸä¸ªæŒ‡å®šçš„ç‰ˆæœ¬(ç‰ˆæœ¬å·åªè¦æœ‰å‰å‡ ä½å³å¯)

  git reset --hard head~0  //å°†ç‰ˆæœ¬å›é€€åˆ°å½“å‰æäº¤
  git reset --hard head~1  //å°†ç‰ˆæœ¬å›é€€åˆ°ä¸Šä¸€æ¬¡æäº¤
  git reset --hard head~2  //å°†ç‰ˆæœ¬å›é€€åˆ°ä¸Šä¸Šæ¬¡æäº¤
  ```
* é…ç½®å¿½è§†æ–‡ä»¶ï¼šåœ¨ä»“åº“çš„æ ¹ç›®å½•åˆ›å»ºä¸€ä¸ª`.gitignore`â€‹çš„æ–‡ä»¶ï¼Œæ–‡ä»¶åæ˜¯å›ºå®šçš„(txtæ”¹åç¼€)ã€‚

  ```js
  # å¿½è§†idea.txtæ–‡ä»¶
  idea.txt

  # å¿½è§†cssä¸‹çš„index.jsæ–‡ä»¶
  css/index.js

  # å¿½è§†cssä¸‹çš„æ‰€æœ‰çš„jsæ–‡ä»¶
  css/*.js

  # å¿½è§†cssæ–‡ä»¶å¤¹
  css

  # å¿½è§†node_modulesæ–‡ä»¶å¤¹
  node_modules/
  ```

### Gitåˆ†æ”¯æ“ä½œ

* æŸ¥çœ‹åˆ†æ”¯ï¼šåœ¨`git`â€‹ä¸­ï¼Œæœ‰ä¸€ä¸ªç‰¹æ®ŠæŒ‡é’ˆ`HEAD`â€‹,æ°¸è¿œä¼šæŒ‡å‘å½“å‰åˆ†æ”¯

  ```js
  git branch //æŸ¥çœ‹æœ¬åœ°åˆ†æ”¯
  git branch -r  //æŸ¥çœ‹è¿œç¨‹åˆ†æ”¯
  git branch -a  //æŸ¥çœ‹æ‰€æœ‰åˆ†æ”¯ï¼ŒåŒ…æ‹¬è¿œç¨‹åˆ†æ”¯
  ```
* åˆ›å»ºåˆ†æ”¯

  ```js
  git branch åˆ†æ”¯åç§°  //åˆ›å»ºåˆ†æ”¯ï¼Œåˆ†æ”¯ä¸­çš„ä»£ç ï¼Œåœ¨åˆ›å»ºæ—¶ä¸å½“å‰åˆ†æ”¯çš„å†…å®¹å®Œå…¨ç›¸åŒ
  ```
* åˆ‡æ¢åˆ†æ”¯ï¼šåˆ†æ”¯æ“ä½œï¼Œæœ€å¥½æ˜¯å…ˆ`add commit`â€‹

  ```js
  å·¥ä½œåŒºã€æš‚å­˜åŒºå¯¹æ‰€æœ‰åˆ†æ”¯è€Œè¨€ï¼Œéƒ½æ˜¯å…¬å…±çš„ï¼Œåœ¨åˆ‡æ¢åˆ†æ”¯æ—¶ï¼Œå·¥ä½œåŒºã€æš‚å­˜åŒºçš„å†…å®¹éƒ½ä¼šè¢«å¸¦è¿‡å»ï¼Œæ‰€æœ‰è¦å…ˆä¿å­˜
  git checkout åˆ†æ”¯åç§°  //åˆ‡æ¢åˆ°ç›®æ ‡åˆ†æ”¯
  git checkout -b åˆ†æ”¯å  //åˆ›å»ºå¹¶åˆ‡æ¢åˆ†æ”¯
  git checkout -b dev  //åˆ›å»ºå¹¶åˆ‡æ¢åˆ†æ”¯
  ```
* åˆ é™¤åˆ†æ”¯ï¼šä¸èƒ½åœ¨å½“å‰åˆ†æ”¯åˆ é™¤å½“å‰åˆ†æ”¯ï¼Œéœ€è¦åˆ‡æ¢åˆ°å…¶ä»–åˆ†æ”¯æ‰èƒ½åˆ é™¤

  ```js
  git branch -d åˆ†æ”¯å  //åˆ é™¤åˆ†æ”¯,å¦‚æœè¯¥åˆ†æ”¯æœ‰æäº¤æœªè¿›è¡Œåˆå¹¶ï¼Œåˆ™ä¼šåˆ é™¤å¤±è´¥
  git branch -D åˆ†æ”¯å  //å¼ºåˆ¶åˆ é™¤ï¼Œå°±ç®—æ²¡æœ‰è¿›è¡Œåˆå¹¶æ“ä½œä¹Ÿå¯ä»¥åˆ é™¤
  git branch -d dev  //åˆ›å»ºå¹¶åˆ‡æ¢åˆ°devåˆ†æ”¯
  ```
* åˆå¹¶åˆ†æ”¯ï¼šè¦å…ˆåˆ‡æ¢åˆ°è¦åˆå¹¶å¾—åˆ†æ”¯

  ```js
  git merge åˆ†æ”¯å  //æŠŠå…¶ä»–åˆ†æ”¯å†…å®¹åˆå¹¶åˆ°å½“å‰åˆ†æ”¯
  ```
* å–æ¶ˆåˆå¹¶

  ```js
  //å‘ç°åˆ†æ”¯å†²çªåæ²¡åšå…¶ä»–ä¿®æ”¹å¯ä»¥å–æ¶ˆåˆå¹¶ï¼Œå¦‚æœåˆå¹¶çš„æ—¶å€™ï¼Œæœ‰æœªæäº¤çš„æ›´æ”¹ï¼Œæˆ–è€…åˆå¹¶ååˆä¿®æ”¹äº†ä¸€äº›ï¼Œå–æ¶ˆåˆå¹¶å¯èƒ½ä¼šå‡ºç°é”™è¯¯
  git merge --abort  //å–æ¶ˆåˆå¹¶
  ```

### Gitè¿œç¨‹æ“ä½œ

* è¿œç¨‹å…³è”ï¼šæ³¨æ„ï¼šå…³è”ä¹‹åï¼Œå¦‚æœæœ¬èº«æœ‰ä¸œè¥¿ï¼Œæ˜¯æ— æ³•ç›´æ¥pushçš„ï¼Œè¦å…ˆpullç„¶ååˆå¹¶å†²çªï¼Œå†addã€commitå†push

  ```js
  git remote -v  //æŸ¥çœ‹å½“å‰æ‰€æœ‰è¿œç¨‹åœ°å€åˆ«å
  git remote add originï¼ˆåˆ«åï¼‰ ä»“åº“åœ°å€  //ç»™è¿œç¨‹ä»“åº“è®¾ç½®ä¸€ä¸ªåˆ«å
  git remote remove origin  //åˆ é™¤originè¿™ä¸ªåˆ«å

  //äº‹ä¾‹
  git remote add origin https://gitee.com/wwshuishui/test.git  //æ·»åŠ è¿œç¨‹ä»“åº“
  git push -u origin "master"  //å°†æœ¬åœ°ä»“åº“å’Œè¿œç¨‹ä»“åº“å»ºç«‹è”ç³»ï¼Œå¹¶æ¨é€masteråˆ†æ”¯
  ```
* è¿œç¨‹å…‹éš†

  ```js
  git clone é¡¹ç›®åœ°å€  //åªæœ‰ä¸€ä¸ªmasteråˆ†æ”¯ï¼Œå…¶ä»–åˆ†æ”¯éƒ½éšè—äº†
  git cloen -b åˆ†æ”¯å è¿œç¨‹ä»“åº“åœ°å€  //å…‹éš†æŒ‡å®šåˆ†æ”¯
  git branch -a  //å¯ä»¥çœ‹åˆ°çº¢è‰²çš„éšè—åˆ†æ”¯
  git checkout -t origin/åˆ†æ”¯å  //è·å–è¿œç¨‹åˆ†æ”¯

  //äº‹ä¾‹
  git clone git@gitee.com:jepsonpp/test.git
  git clone -b dev git@gitee.com:jepsonpp/test.git
  ```
* è¿œç¨‹æ¨é€ï¼šæŠŠæœ¬åœ°å¾—æ¨é€åˆ°è¿œç¨‹ä»“åº“

  ```js
  git push  //å½“å‰åˆ†æ”¯åªæœ‰ä¸€ä¸ªè¿œç¨‹åˆ†æ”¯,æœ¬åœ°åˆ†æ”¯åå’Œè¿œç¨‹åˆ†æ”¯åä¸€æ ·
  git push è¿œç¨‹ä¸»æœºå æœ¬åœ°åˆ†æ”¯å:è¿œç¨‹åˆ†æ”¯å  //å®Œæ•´ç‰ˆ
  git push origin master:master  //å¦‚æœæœ¬åœ°åˆ†æ”¯åä¸è¿œç¨‹åˆ†æ”¯åç›¸åŒï¼Œåˆ™å¯ä»¥çœç•¥å†’å·
  git push --force origin master  //æœ¬åœ°ç‰ˆæœ¬å’Œè¿œç¨‹æœ‰å·®å¼‚ï¼Œå¼ºåˆ¶æ¨é€è¦†ç›–è¿œç¨‹
  ```
* è¿œç¨‹æ‹‰å–ï¼šæŠŠè¿œç¨‹å¾—ä»£ç æ‹‰åˆ°æœ¬åœ°

  ```js
  git pull  //å½“å‰åˆ†æ”¯åªæœ‰ä¸€ä¸ªè¿œç¨‹åˆ†æ”¯,æœ¬åœ°åˆ†æ”¯åå’Œè¿œç¨‹åˆ†æ”¯åä¸€æ ·
  git pull è¿œç¨‹ä¸»æœºå åˆ†æ”¯å
  git pull origin login  //è·å–è¿œç¨‹åˆ†æ”¯çš„æ›´æ–°ï¼Œå¹¶æ›´æ–°åˆå¹¶åˆ°loginåˆ†æ”¯


  git fetch  //éœ€è¦è‡ªå·±åˆå¹¶ï¼Œfullæ˜¯å¸®ä½ åˆå¹¶äº†
  git fetch orgin master  //å°†è¿œç¨‹ä»“åº“çš„masteråˆ†æ”¯ä¸‹è½½åˆ°æœ¬åœ°å½“å‰branchä¸­
  ```
* è¿œç¨‹åˆ é™¤

  ```js
  git branch -a  //å¯ä»¥çœ‹çš„è¿œç¨‹åˆ†æ”¯

  git push origin --delete åˆ†æ”¯å  //åˆ é™¤è¿œç¨‹åˆ†æ”¯
  git push origin --d åˆ†æ”¯å
  ```
